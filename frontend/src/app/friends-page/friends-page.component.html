<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Coworking Status -->
    <mat-card-subtitle>Coworking Status</mat-card-subtitle>

    <!-- Section to toggle working status -->
    <div>
      <mat-card-header>
        <mat-card-title>Working Status</mat-card-title>
      </mat-card-header>
      <mat-list>
        <mat-list-item *ngFor="let friend of friends">
          <!-- Display friend's name, ID, and working status with a colon -->
          {{ friend.first_name }} (ID: {{ friend.id }}):
        </mat-list-item>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>

<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Friend Requests -->
    <mat-card-subtitle>Friend Requests</mat-card-subtitle>

    <!-- Section for pending requests -->
    <div>
      <mat-card-header>
        <mat-card-title>Pending Requests</mat-card-title>
      </mat-card-header>
      <mat-list *ngIf="incomingFriendRequests.length > 0">
        <ng-container *ngFor="let request of incomingFriendRequests">
          <mat-list-item class="friend-request-item">
            <div class="friend-request-content">
              <span class="request-details">
                {{ request.first_name }} (ID: {{ request.id }})
              </span>
              <div class="request-actions">
                <button mat-button (click)="acceptFriendRequest(request.id)">
                  Accept
                </button>
                <button mat-button (click)="rejectFriendRequest(request.id)">
                  Decline
                </button>
              </div>
            </div>
          </mat-list-item>
        </ng-container>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>

<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Outgoing Friend Requests -->
    <mat-card-subtitle>Outgoing Friend Requests</mat-card-subtitle>

    <!-- Section for displaying outgoing requests -->
    <div>
      <mat-card-header>
        <mat-card-title>Outgoing Requests</mat-card-title>
      </mat-card-header>
      <mat-list *ngIf="outgoingFriendRequests.length > 0">
        <ng-container *ngFor="let request of outgoingFriendRequests">
          <mat-list-item class="friend-request-item">
            <div class="friend-request-content">
              <span class="request-details">
                {{ request.first_name }} (ID: {{ request.id }})
              </span>
              <div class="request-actions">
                <button mat-button (click)="cancelFriendRequest(request.id)">
                  Cancel
                </button>
              </div>
            </div>
          </mat-list-item>
        </ng-container>
      </mat-list>
      <mat-list *ngIf="outgoingFriendRequests.length === 0">
        <mat-list-item>No outgoing friend requests.</mat-list-item>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>

<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Editing Friends -->
    <mat-card-subtitle>Edit Friends</mat-card-subtitle>

    <!-- Toggle Button for Search Bar -->
    <button mat-button (click)="toggleSearchBar()">Add a friend</button>

    <!-- Conditional Search Bar -->
    <mat-form-field appearance="fill" *ngIf="showSearchBar">
      <mat-label>Search for friends</mat-label>
      <input
        matInput
        [(ngModel)]="searchQuery"
        (input)="searchFriends()"
        placeholder="Enter a name" />
    </mat-form-field>

    <mat-list *ngIf="searchResults.length > 0">
      <mat-list-item *ngFor="let result of searchResults">
        {{ result.first_name }} {{ result.last_name }} (ID: {{ result.id }})
        <button mat-button (click)="sendFriendRequest(result)">Add</button>
      </mat-list-item>
    </mat-list>

    <!-- Section for friends list -->
    <div>
      <mat-card-header>
        <mat-card-title>Friends List</mat-card-title>
      </mat-card-header>
      <mat-list>
        <ng-container *ngFor="let friend of friends">
          <mat-list-item class="friend-item">
            <div class="friend-content">
              <span class="friend-details">
                {{ friend.first_name }} (ID: {{ friend.id }})
              </span>
              <div class="friend-actions">
                <button mat-button (click)="removeFriend(friend.id)">
                  Remove
                </button>
              </div>
            </div>
          </mat-list-item>
        </ng-container>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>
