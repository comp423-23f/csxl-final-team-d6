<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Coworking Status -->
    <mat-card-subtitle>Coworking Status</mat-card-subtitle>

    <!-- Section to toggle working status -->
    <div>
      <mat-card-header>
        <mat-card-title>Working Status</mat-card-title>
      </mat-card-header>
      <mat-list>
        <mat-list-item *ngFor="let friend of friends">
          {{ friend.name }} (ID: {{ friend.id }})
          <span [class.working]="friend.isWorking">
            {{ friend.isWorking ? 'Working' : 'Not Working' }}
          </span>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>

<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Friend Requests -->
    <mat-card-subtitle>Friend Requests</mat-card-subtitle>

    <!-- Section for pending requests -->
    <div>
      <mat-card-header>
        <mat-card-title>Pending Requests</mat-card-title>
      </mat-card-header>
      <mat-list>
        <mat-list-item
          *ngFor="let request of friendRequests"
          class="friend-request-item">
          <div class="friend-request-content">
            <span class="request-details">
              {{ request.name }} (ID: {{ request.id }})
            </span>
            <div class="request-actions">
              <button mat-button (click)="acceptFriendRequest(request.id)">
                Accept
              </button>
              <button mat-button (click)="declineFriendRequest(request.id)">
                Decline
              </button>
            </div>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>

<mat-card class="content" appearance="outlined">
  <mat-card-content>
    <!-- Header for Editing Friends -->
    <mat-card-subtitle>Edit Friends</mat-card-subtitle>

    <!-- Toggle Button for Search Bar -->
    <button mat-button (click)="toggleSearchBar()">Add a friend</button>

    <!-- Conditional Search Bar -->
    <mat-form-field appearance="fill" *ngIf="showSearchBar">
      <mat-label>Search for friends</mat-label>
      <input
        matInput
        [(ngModel)]="searchQuery"
        (input)="searchFriends()"
        placeholder="Enter a name" />
    </mat-form-field>

    <mat-list *ngIf="searchResults.length > 0">
      <mat-list-item *ngFor="let result of searchResults">
        {{ result.name }}
        <button mat-button (click)="addFriendFromSearch(result)">Add</button>
      </mat-list-item>
    </mat-list>

    <!-- Section for friends list -->
    <div>
      <mat-card-header>
        <mat-card-title>Friends List</mat-card-title>
      </mat-card-header>
      <mat-list>
        <mat-list-item *ngFor="let friend of friends" class="friend-item">
          <div class="friend-content">
            <span class="friend-details">
              {{ friend.name }} (ID: {{ friend.id }})
            </span>
            <div class="friend-actions">
              <button mat-button (click)="deleteFriend(friend.id)">
                Remove
              </button>
              <button mat-button (click)="toggleFavorite(friend.id)">
                {{ friend.isFavorite ? 'Unfavorite' : 'Favorite' }}
              </button>
            </div>
          </div>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-card-content>
</mat-card>
